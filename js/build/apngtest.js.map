{"version":3,"sources":["../source/apngtest.js"],"names":["parseAPNG","oReq","XMLHttpRequest","onload","arrayBuffer","response","apng","Error","console","log","message","createImages","then","canvasDiv","document","getElementsByClassName","canvas","createElement","width","height","appendChild","getPlayer","getContext","p","player","playbackRate","play","open","responseType","send"],"mappings":"AAAA;;;;AAKA,OAAOA,SAAP,MAAsB,SAAtB;;AAEA,IAAIC,OAAO,IAAIC,cAAJ,EAAX;;AAEAD,KAAKE,MAAL,GAAc,YAAY;AACtB,QAAIC,cAAcH,KAAKI,QAAvB;AACA,QAAIC,OAAON,UAAUI,WAAV,CAAX;;AAEA,QAAKE,gBAAgBC,KAArB,EACA;AACIC,gBAAQC,GAAR,CAAY,wBAAZ,EAAsCH,KAAKI,OAA3C;AACA;AACH;AACDJ,SAAKK,YAAL,GAAoBC,IAApB,CAAyB,MAAM;;AAE3B,cAAMC,YAAYC,SAASC,sBAAT,CAAgC,WAAhC,EAA6C,CAA7C,CAAlB;AACA,cAAMC,SAASF,SAASG,aAAT,CAAuB,QAAvB,CAAf;AACAD,eAAOE,KAAP,GAAe,GAAf;AACAF,eAAOG,MAAP,GAAgB,GAAhB;AACAN,kBAAUO,WAAV,CAAsBJ,MAAtB;;AAEAV,aAAKe,SAAL,CAAeL,OAAOM,UAAP,CAAkB,IAAlB,CAAf,EAAwCV,IAAxC,CAA6CW,KAAK;AAC9C,gBAAIC,MAAJ;AACA,gBAAIC,eAAe,GAAnB;AACAjB,oBAAQC,GAAR,CAAY,SAAZ,EAAsBc,CAAtB;AACAC,qBAASD,CAAT;AACAC,mBAAOC,YAAP,GAAsBA,YAAtB;AACAD,mBAAOE,IAAP;AACH,SAPD;AAQH,KAhBD;AAiBH,CA1BD;;AA6BA;AACAzB,KAAK0B,IAAL,CAAU,KAAV,EAAiB,0DAAjB;;AAEA;AACA;AACA1B,KAAK2B,YAAL,GAAoB,aAApB;AACA3B,KAAK4B,IAAL","file":"apngtest.js","sourcesContent":["/**\n * Created by kimdoeun on 2017. 2. 13..\n */\n\n\nimport parseAPNG from 'apng-js';\n\nvar oReq = new XMLHttpRequest();\n\noReq.onload = function () {\n    var arrayBuffer = oReq.response;\n    var apng = parseAPNG(arrayBuffer);\n\n    if ( apng instanceof Error )\n    {\n        console.log('ImageUtil > apng error', apng.message);\n        return;\n    }\n    apng.createImages().then(() => {\n\n        const canvasDiv = document.getElementsByClassName('canvasDiv')[0];\n        const canvas = document.createElement('canvas');\n        canvas.width = 500;\n        canvas.height = 500;\n        canvasDiv.appendChild(canvas);\n\n        apng.getPlayer(canvas.getContext('2d')).then(p => {\n            let player;\n            let playbackRate = 1.0;\n            console.log(\"_------\",p);\n            player = p;\n            player.playbackRate = playbackRate;\n            player.play();\n        });\n    });\n}\n\n\n//로컬에서 작업할땐 이렇게 해야 하고\noReq.open(\"GET\", 'http://localhost:63342/JavaScripTest/moi_daily_p_001.png');\n\n//나중에 서버에 올릴땐 이렇게 바꿔줘야 한다. 안그러면 access 관련 에러가 난다.\n//oReq.open(\"GET\", 'http://desktop.twinny.io/images/emoji/moi_daily_p/moi_daily_p_001.png');\noReq.responseType = \"arraybuffer\";\noReq.send();"]}